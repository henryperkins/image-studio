/* Typography-specific styles that extend Tailwind */

/* Base typography setup */
@layer base {
  html {
    -webkit-text-size-adjust: 100%;
    text-rendering: optimizeLegibility;
    font-optical-sizing: auto;
  }

  body {
    @apply bg-neutral-950 text-neutral-100;
    @apply font-sans font-normal;
  }

  /* Links */
  a {
    @apply text-blue-400 no-underline;
    text-underline-offset: 3px;
  }
  
  a:hover {
    @apply underline;
  }

  /* Code blocks */
  code {
    @apply font-mono text-sm bg-neutral-900 px-1 py-0.5 rounded;
  }

  pre {
    @apply font-mono text-sm overflow-x-auto p-4;
    @apply bg-neutral-900 border border-neutral-800 rounded-xl;
  }

  /* Emphasis */
  em {
    @apply italic;
  }
  
  strong {
    @apply font-semibold;
  }
}

/* Component layer for reusable patterns */
@layer components {
  /* Buttons */
  .btn {
    @apply rounded-2xl px-4 py-2 bg-neutral-800 hover:bg-neutral-700;
    @apply transition-all duration-200 ease-out;
    @apply active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed;
    @apply disabled:hover:bg-neutral-800;
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500/20;
    @apply focus:ring-offset-2 focus:ring-offset-neutral-900;
    @apply text-sm font-medium text-neutral-200;
    @apply min-h-[44px] md:min-h-0; /* Touch target size */
  }

  .btn-primary {
    @apply bg-blue-600 hover:bg-blue-500 text-white;
    @apply shadow-lg hover:shadow-xl;
  }

  .btn-secondary {
    @apply bg-neutral-700 hover:bg-neutral-600 text-neutral-100;
    @apply border border-neutral-600 hover:border-neutral-500;
  }

  .btn-danger {
    @apply bg-red-600 hover:bg-red-500 text-white;
  }

  .btn-xs {
    @apply px-2 py-1 text-xs rounded-lg min-h-0;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs rounded-xl min-h-0;
  }

  .btn-lg {
    @apply px-6 py-3 text-base rounded-2xl;
  }

  /* Inputs */
  .input {
    @apply w-full rounded-xl bg-neutral-900 border border-neutral-700 p-3 text-sm;
    @apply transition-all duration-200;
    @apply focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20;
    @apply placeholder:text-neutral-400;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Cards */
  .card {
    @apply rounded-2xl bg-neutral-900/70 border border-neutral-800 p-4 shadow;
    @apply backdrop-blur-sm;
  }

  /* Loading skeleton */
  .skeleton {
    @apply bg-gradient-to-r from-neutral-800 via-neutral-700 to-neutral-800;
    background-size: 200% 100%;
    animation: var(--animate-shimmer);
  }

  /* Progress bars */
  .progress-bar {
    @apply h-1 bg-blue-500 rounded-full transition-all duration-300 ease-out;
  }

  .progress-bar-indeterminate {
    @apply absolute h-full rounded-full;
    background: linear-gradient(to right, #3b82f6, #60a5fa);
    animation: var(--animate-progress);
  }

  /* Toast notifications */
  .toast {
    @apply fixed right-4 px-4 py-3 rounded-xl shadow-lg;
    @apply transform transition-all duration-300 ease-out z-50;
    @apply max-w-sm md:max-w-md;
    animation: var(--animate-slide-in);
  }

  .toast-success {
    @apply bg-green-900/90 text-green-100 border border-green-800;
  }

  .toast-error {
    @apply bg-red-900/90 text-red-100 border border-red-800;
  }

  .toast-info {
    @apply bg-blue-900/90 text-blue-100 border border-blue-800;
  }

  /* Typography components */
  .heading-display {
    @apply font-serif text-4xl md:text-5xl lg:text-6xl;
    @apply font-semibold tracking-tight leading-tight;
  }

  .heading-1 {
    @apply text-3xl md:text-4xl font-semibold tracking-tight leading-tight;
  }

  .heading-2 {
    @apply text-2xl md:text-3xl font-semibold tracking-tight leading-tight;
  }

  .heading-3 {
    @apply text-xl md:text-2xl font-semibold leading-snug;
  }

  .heading-4 {
    @apply text-lg md:text-xl font-semibold leading-snug;
  }

  .heading-5 {
    @apply text-base md:text-lg font-medium leading-snug;
  }

  .heading-6 {
    @apply text-sm md:text-base font-medium;
  }

  /* Text utilities */
  .text-body {
    @apply text-base leading-relaxed;
  }

  .text-small {
    @apply text-sm leading-normal;
  }

  .text-caption {
    @apply text-xs leading-normal tracking-wide font-medium;
  }

  .text-muted {
    @apply text-neutral-400;
  }

  .text-longform {
    @apply font-serif text-base leading-relaxed max-w-prose;
  }

  /* Numeric text */
  .numeric {
    font-variant-numeric: tabular-nums slashed-zero lining-nums;
  }

  /* Truncation */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    @apply overflow-hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    @apply overflow-hidden;
  }
}

