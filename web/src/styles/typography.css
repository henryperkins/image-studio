/* Typography-specific styles that extend Tailwind */

/* Base typography setup */
@layer base {
  html {
    -webkit-text-size-adjust: 100%;
    text-rendering: optimizeLegibility;
    font-optical-sizing: auto;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-smooth: always;
  }

  body {
    /* Use theme tokens so light/dark and custom themes work */
    background-color: var(--background);
    color: var(--foreground);
    @apply font-sans font-normal;
  }

  /* Links */
  a {
    @apply text-primary no-underline;
    text-underline-offset: 3px;
  }
  
  a:hover {
    @apply underline;
  }

  /* Code blocks */
  code {
    @apply font-mono text-sm bg-neutral-900 px-1 py-0.5 rounded;
  }

  pre {
    @apply font-mono text-sm overflow-x-auto p-4;
    @apply bg-neutral-900 border border-neutral-800 rounded-xl;
  }

  /* Emphasis */
  em {
    @apply italic;
  }
  
  strong {
    @apply font-semibold;
  }
}

/* Component layer for reusable patterns */
@layer components {
  /* Removed legacy .btn/.input/.card in favor of shadcn/ui */

  /* Loading skeleton */
  .skeleton {
    @apply bg-gradient-to-r from-neutral-800 via-neutral-700 to-neutral-800;
    background-size: 200% 100%;
    animation: var(--animate-shimmer);
  }

  /* Progress bars */
  .progress-bar {
    @apply h-1 bg-primary rounded-full transition-all duration-300 ease-out;
  }

  .progress-bar-indeterminate {
    @apply absolute h-full rounded-full;
    background: linear-gradient(to right, var(--primary), var(--primary));
    animation: var(--animate-progress);
  }

  /* Removed bespoke toast styles (using shadcn Radix Toast) */

  /* Text utilities */
  .text-body {
    @apply text-base leading-relaxed;
  }

  .text-small {
    @apply text-sm leading-normal;
  }

  .text-caption {
    @apply text-xs leading-normal tracking-wide font-medium;
  }

  .text-muted {
    @apply text-neutral-400;
  }

  .text-longform {
    @apply font-serif text-base leading-relaxed max-w-prose;
  }

  /* Numeric text */
  .numeric {
    font-variant-numeric: tabular-nums slashed-zero lining-nums;
  }

  /* Truncation */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    @apply overflow-hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    @apply overflow-hidden;
  }
}
